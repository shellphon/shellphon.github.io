!function(t,e,n){function i(t,e,n){return t<0?n?e-1:0:t>=e?n?0:e-1:t}function a(t,e,n){var i="v"===e?"translateY":"translateX";t.css("-webkit-transform",i+"("+n+"px)").css("transform",i+"("+n+"px)")}function o(e){var n=t.extend(!0,{},h,e),i=this;i.curIndex=-1,i.o=n,i.startY=0,i.movingFlag=!1,i.$this.addClass("fullPage-wp"),i.$parent=i.$this.parent(),i.$pages=i.$this.find(n.page).addClass("fullPage-page fullPage-dir-"+n.dir),i.pagesLength=i.$pages.length,i.update(),i.initEvent(),i.status=1}function r(t,e){this.$this=t,o.call(this,e)}if("undefined"==typeof t)throw new Error("zepto.fullpage's script requires Zepto");t(document).on("touchmove",function(t){t.preventDefault()});var s=null,h={page:".page",start:0,duration:500,loop:!1,drag:!1,dir:"v",change:function(t){},beforeChange:function(t){},afterChange:function(t){},orientationchange:function(t){}};t.extend(r.prototype,{update:function(){"h"===this.o.dir&&(this.width=this.$parent.width(),this.$pages.width(this.width),this.$this.width(this.width*this.pagesLength)),this.height=this.$parent.height(),this.$pages.height(this.height),this.moveTo(this.curIndex<0?this.o.start:this.curIndex)},initEvent:function(){var t=this,n=t.$this;n.on("touchstart",function(e){return t.status?(e.preventDefault(),t.movingFlag?0:(t.startX=e.targetTouches[0].pageX,void(t.startY=e.targetTouches[0].pageY))):1}),n.on("touchend",function(e){if(!t.status)return 1;if(e.preventDefault(),t.movingFlag)return 0;var n="v"===t.o.dir?e.changedTouches[0].pageY-t.startY:e.changedTouches[0].pageX-t.startX,i=n>30||n<-30?n>0?-1:1:0;t.moveTo(t.curIndex+i,!0)}),t.o.drag&&n.on("touchmove",function(e){if(!t.status)return 1;if(e.preventDefault(),t.movingFlag)return 0;var i=e.changedTouches[0].pageY-t.startY,o=e.changedTouches[0].pageX-t.startX,r=-t.curIndex*("v"===t.o.dir?t.height+i:t.width+o);n.removeClass("anim"),a(n,t.o.dir,r)}),e.addEventListener("orientationchange",function(){180!==e.orientation&&0!==e.orientation||t.o.orientationchange("portrait"),90!==e.orientation&&e.orientation!==-90||t.o.orientationchange("landscape")},!1),e.addEventListener("resize",function(){t.update()},!1)},start:function(){this.status=1},stop:function(){this.status=0},moveTo:function(t,n){var o=this,r=o.$this,s=o.curIndex;t=i(t,o.pagesLength,o.o.loop),n?r.addClass("anim"):r.removeClass("anim"),t!==s&&o.o.beforeChange({next:t,cur:s}),o.movingFlag=!0,o.curIndex=t,a(r,o.o.dir,-t*("v"===o.o.dir?o.height:o.width)),t!==s&&o.o.change({next:t,cur:s}),e.setTimeout(function(){o.movingFlag=!1,t!==s&&(o.o.afterChange({next:t,cur:s}),o.$pages.removeClass("cur").eq(t).addClass("cur"))},o.o.duration)},movePrev:function(t){this.moveTo(this.curIndex-1,t)},moveNext:function(t){this.moveTo(this.curIndex+1,t)}}),t.fn.fullpage=function(e){return s||(s=new r(t(this),e)),this},t.each(["update","moveTo","moveNext","movePrev","start","stop"],function(e,n){t.fn.fullpage[n]=function(){return s?void s[n].apply(s,[].slice.call(arguments,0)):0}})}(Zepto,window);